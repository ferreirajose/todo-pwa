<div class="container-fluid py-3">
  <!-- <div class="row my-5">
    <div class="col text-end">
      Status:
    </div>
    <div class="col">
      <span class="badge bg-success" *ngIf="isOnline">Online</span>
      <span class="badge bg-danger" *ngIf="!isOnline">Offline</span>
    </div>
  </div> -->


    <div class="alert alert-success center" *ngIf="isOnline">
      <strong>Status</strong><span class="badge bg-success">Online</span>
    </div>

    <div class="alert alert-danger center" *ngIf="!isOnline">
      <strong>Status</strong><span class="badge bg-danger">Online</span>
    </div>

    <div class="row">
      <div class="todo-app">
        <div class="app-title">
            <h2>Todo TCE</h2>
            <i class="fa-solid fa-book-bookmark"></i>
        </div>

        <div class="input-group mb-3">
          <input type="text" class="form-control" [(ngModel)]="task" placeholder="Nome da tarefa" aria-label="Nome da tarefa" aria-describedby="button-adicionar">
          <button class="btn btn-danger" type="button" id="button-adicionar" (click)="addTask()">Adicionar</button>
        </div>


        <div class="alert alert-warning center" *ngIf="hasTask">
          <strong>Atenção!</strong>Informe uma tarefa
        </div>

        <ul id="list-container" class="list-group">
          <li *ngFor="let task of tasks" class="list-group-item d-flex justify-content-between align-items-center" [ngClass]="{'checked': task.completed}" (click)="toggleTaskCompletion(task)">
            {{ task.name }}
                <span (click)="deleteTask(task)">x</span>
            </li>
        </ul>
    </div>

    </div>
</div>

<div class="w-100 position-absolute top-0" *ngIf="modalVersion">
  <div class="alert alert-secondary m-2">
    <button type="button" class="btn-close position-absolute top-0 end-0 m-1" aria-label="Close" (click)="closeVersion()"></button>
    A new version of this app is available. <a href="" (click)="updateVersion()">Update now</a>
  </div>
</div>

<div class="w-100 position-absolute bottom-0" *ngIf="modalPwaPlatform === 'ANDROID' || modalPwaPlatform === 'IOS'">
  <div class="alert alert-secondary m-2">
    <button type="button" class="btn-close position-absolute top-0 end-0 m-1" aria-label="Close" (click)="closePwa()"></button>
    <!-- Android -->
    <div *ngIf="modalPwaPlatform === 'ANDROID'" (click)="addToHomeScreen()">
      Adicionar a tela principal
    </div>
    <!-- iOS with Safari -->
    <div *ngIf="modalPwaPlatform === 'IOS'">
      Para instalar este aplicativo WEB em seu dispositivo, toque no botão "Menu"
      <img src="https://res.cloudinary.com/rodrigokamada/image/upload/v1641089482/Blog/angular-pwa/safari_action_button_38x50.png" class="ios-menu m-0" />
      e depois no botão "Adicionar à tela inicial"
      <i class="bi bi-plus-square"></i>
    </div>
  </div>
</div>
